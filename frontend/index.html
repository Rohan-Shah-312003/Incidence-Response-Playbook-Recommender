<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>IRPR – Incident Response Assistant</title>
		<style>
			body {
				font-family: Arial, sans-serif;
				padding: 20px;
				background: #0f172a;
				color: #e5e7eb;
			}
			textarea {
				width: 100%;
				height: 120px;
				font-size: 14px;
				background: #1e293b;
				color: #e5e7eb;
				border: 1px solid #334155;
				padding: 10px;
				border-radius: 5px;
			}
			button {
				margin-top: 10px;
				padding: 10px 20px;
				font-size: 16px;
				cursor: pointer;
				background: #3b82f6;
				color: white;
				border: none;
				border-radius: 5px;
			}
			button:hover {
				background: #2563eb;
			}
			.result {
				margin-top: 20px;
				white-space: pre-wrap;
				background: #020617;
				padding: 15px;
				border-radius: 5px;
			}
			.tabs {
				margin-top: 20px;
			}

			.tab-btn {
				background: #1e293b;
				color: #e5e7eb;
				border: none;
				padding: 10px 15px;
				cursor: pointer;
				margin-right: 5px;
				border-radius: 5px 5px 0 0;
			}

			.tab-btn.active {
				background: #334155;
			}

			.tab-btn:hover {
				background: #334155;
			}

			.tab-content {
				display: none;
				margin-top: 0;
				padding: 15px;
				background: #020617;
				border-radius: 0 5px 5px 5px;
				white-space: pre-wrap;
				min-height: 200px;
			}

			.tab-content.active {
				display: block;
			}

			/* ✅ NEW: Styling for override section inside plan tab */
			.override-section {
				margin-top: 20px;
				padding-top: 20px;
				border-top: 1px solid #334155;
			}

			.override-section textarea {
				height: 80px;
				margin-bottom: 10px;
			}

			.export-section {
				margin-top: 20px;
			}
		</style>
	</head>

	<body>
		<h2>IRPR – Incident Response Assistant</h2>

		<!-- ✅ Input Section -->
		<textarea
			id="incidentInput"
			placeholder="Paste incident description here..."
		></textarea>

		<button onclick="analyze()">Analyze Incident</button>

		<!-- ✅ Tabs -->
		<div class="tabs">
			<button class="tab-btn active" onclick="openTab('situation', event)">
				Situation
			</button>
			<button class="tab-btn" onclick="openTab('plan', event)">
				Response Plan
			</button>
			<button class="tab-btn" onclick="openTab('rationale', event)">
				Rationale
			</button>
			<button class="tab-btn" onclick="openTab('evidence', event)">
				Evidence
			</button>
		</div>

		<!-- ✅ Tab Content -->
		<div id="situation" class="tab-content active">
			Click "Analyze Incident" to begin...
		</div>
		
		<div id="plan" class="tab-content">
			<!-- Response plan will be populated here -->
			<div id="planContent"></div>
			
			<!-- ✅ FIXED: Override section moved inside plan tab properly -->
			<div class="override-section">
				<h3>Analyst Override</h3>
				<textarea
					id="overrideNote"
					placeholder="Enter override note if you disagree with the recommendation..."
				></textarea>
				<button onclick="submitOverride()">Submit Override</button>
			</div>
		</div>
		
		<div id="rationale" class="tab-content">
			<!-- Rationale will be populated here -->
		</div>
		
		<div id="evidence" class="tab-content">
			<!-- Evidence will be populated here -->
		</div>

		<!-- ✅ FIXED: Export button moved outside tabs -->
		<div class="export-section">
			<button onclick="exportReport()">Export Report (PDF)</button>
		</div>

		<script src="renderer.js"></script>
	</body>
</html>